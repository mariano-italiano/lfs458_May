kubectl get pods
kubectl exec -it nginx-pod -- sh
kubectl apply -f security-pod.yaml 
kubectl get pod
kubectl events
vi security-context-pod.yaml
kubectl apply -f security-context-pod.yaml
kubectl get pods
kubectl exec -it security-context-pod -- sh
id student
kubectl exec -it security-context-pod -- sh
cp -rp security-context-pod.yaml security-context-pod2.yaml 
vi security-context-pod2.yaml
kubectl apply -f security-context-pod2.yaml
vi security-context-pod2.yaml
kubectl apply -f security-context-pod2.yaml
kubectl exec -it security-context-pod2 -- sh
kubectl exec -it security-context-pod2 -c sec-ctx-demo2 -- sh
kubectl run mk-pod --image marcinkujawski/lfs459-demo:1.0 --dry-run=client -o yaml > mk-pod.yaml
vi mk-pod.yaml
kubectl apply -f mk-pod.yaml
kubectl get pod
kubectl delete pod nginx
kubectl get pod mk-pod
kubectl events
kubectl get pod mk-pod
kubectl replace --force mk-pod.yaml 
kubectl replace --force -f mk-pod.yaml 
kubectl get pod mk-pod
kubectl events
vi mk-pod.yaml
kubectl replace --force -f mk-pod.yaml 
kubectl get pods
kubectl events
vi mk-pod.yaml
kubectl delete pod mk-pod 
kubectl apply -f mk-pod.yaml 
kubectl get pod
kubectl events
vi mk-pod.yaml 
kubectl delete pod mk-pod 
kubectl apply -f mk-pod.yaml 
kubectl  get pods
kubectl expose pod mk-pod --type NodePort --port 80 --name mk-svc
kubectl get svc
kubectl edit svc mk-svc 
vi mk-pod.yaml 
kubectl delete pod mk-pod
kubectl apply -f mk-pod.yaml 
kubectl get pod
vi mk-pod.yaml 
kubectl replace --force -f mk-pod.yaml
kubectl get pod
kubectl events 
vi lfs458-demo.yaml
kubectl apply -f lfs458-demo.yaml
kubectl get pods
kubectl expose pod lfs458-test --type NodePort --port 80 --name lfs-demo-svc
kubectl get svc 
curl http://10.100.73.154
kubectl exec -it lfs458-test -- sh
kubectl exec -it lfs458-test -- bash
kubectl get pods
kubectl events
kubectl get pods
kubectl delete pod lfs458-test mk-pod
cp -rp lfs458-demo.yaml secure-app.yaml
vi secure-app.yaml
kubectl apply -f secur
kubectl apply -f secure-app.yaml 
kubectl  get pods
kubectl exec -it secure-app -- sh
kubectl events
kubectl events --sorty-by .metadata.creationTimestamp
kubectl get events --sorty-by .metadata.creationTimestamp
kubectl  events --sort-by .metadata.creationTimestamp
kubectl get events --sort-by .metadata.creationTimestamp
sudo journalctl -u kubelet
sudo journalctl -u containerd
sudo journalctl -u containerd -p err
sudo journalctl -u kubelet -p err
cd /var/log
ls -la
cd pods
ls -la
cd kube-system_etcd-k8s-master_b35e4de82e257e0eb7683e09fa158f41
ls -la
cd etcd/
ls -la
less 3.log 
sudo less 3.log 
sudo crictl ps -a
sudo crictl ps
cd /var/log/containers/
ls -la
kubectl get pods
kubectl logs noschedule-pod
kubectl logs security-context-pod2
kubectl logs security-context-pod2 --all-containers 
cd /etc/kubernetes/manifests/
ls -la
sudo systemctl status kubelet
vi /lib/systemd/system/kubelet.service
vi /var/lib/kubelet/config.yaml 
vi /etc/systemd/system/kubelet.service.d/10-kubeadm.conf 
kubectl get pod
kubectl debug -it secure-app --image=busybox:1.28 --target=secure-app
kubectl run hard-pod --image pause:3.1 
kubectl get pod
kubectl delete pod hard-pod 
kubectl run hard-pod --image registry.k8s.io/pause:3.1 
kubectl get pod
kubectl exec -it hard-pod -- sh
kubectl exec -it hard-pod -- bash
kubectl exec -it hard-pod -- ls -la
kubectl debug -it hard-pod --image=busybox:1.28 --target=hard-pod
kubectl debug -it hard-pod --image=nicolaka/netshoot --target=hard-pod
cd 
cd lfs458_May/
cd day4
kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml
kubectl get all -n kubernetes-dashboard
kubectl get ingress
cp -rp ../day2/web-ingress.yaml dashboard-ingress.yaml
vi dashboard-ingress.yaml
kubectl apply -n kubernetes-dashboard -f dashboard-ingress.yaml 
kubectl -n ingress-nginx get svc
kubectl patch svc kubernetes-dashboard -n kubernetes-dashboard --type='json' -p='[{"op": "replace", "path": "/spec/type", "value": "NodePort"}]' 
kubectl get all -n kubernetes-dashboard
kubectl patch svc kubernetes-dashboard -n kubernetes-dashboard --type='json' -p='[{"op": "replace", "path": "/spec/ports/0/nodePort", "value": 30080}]'
kubectl get all -n kubernetes-dashboard
vi dashboard-ingress.yaml
kubectl apply -f dashboard-ingress.yaml
kubectl delete -A ValidatingWebhookConfiguration ingress-nginx-admission
kubectl apply -f dashboard-ingress.yaml
vi dashboard-ingress.yaml 
kubectl get clusterrole
kubectl -n kubernetes-dashboard create sa dashboard-admin
kubectl create clusterrolebinding dashboard-admin-binding --clusterrole cluster-admin --serviceaccount=kubernetes-dashboard:dashboard-admin
kubectl -n kubernetes-dashboard create token dashboard-admin --duration=8760h
vi dashboard-admin-token
kubectl create -n kubernetes-dashboard secret generic --from-literal username=dashboard-admin --from-file=token=dashboard-admin-token 
kubectl create -n kubernetes-dashboard secret dashboard-admin-credentials generic --from-literal username=dashboard-admin --from-file=token=dashboard-admin-token 
kubectl create -n kubernetes-dashboard secret generic dashboard-admin-credentials --from-literal username=dashboard-admin --from-file=token=dashboard-admin-token 
kubectl describe secrets -n kubernetes-dashboard 
kubectl describe secrets -n kubernetes-dashboard dashboard-admin-credentials 
kubectl get secrets -n kubernetes-dashboard dashboard-admin-credentials
kubectl get secrets -n kubernetes-dashboard dashboard-admin-credentials -o jsonpath='{.data.username}'
kubectl get secrets -n kubernetes-dashboard dashboard-admin-credentials -o jsonpath='{.data.username}' | base64 -d && echo
kubectl get secrets -n kubernetes-dashboard dashboard-admin-credentials -o jsonpath='{.data.tokne}' | base64 -d && echo
kubectl get secrets -n kubernetes-dashboard dashboard-admin-credentials -o jsonpath='{.data.token}' | base64 -d && echo
cat dashboard-ingress.yaml 
cat ../day2/web-ingress.yaml 
watch -n1 kubectl get pods
kubectl rollout restart -n default deployment dashboard-deployment
kubectl get sa -n kubernetes-dashboard 
history
history | awk '$1 > 886' | cut -c 8- > ../day4-history.txt
